<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Boids Simulation</title>

    <!--Meta Information about the website-->
    <meta name="author" content="crypticsy" />
    <meta name="keywords" content="crypticsy" />
    <meta name="keywords" content="github" />
    <meta name="keywords" content="sanctuary" />

    <link rel="icon" href="../assets/images/icon.ico" />
    <meta property="og:image" content="../assets/images/icon.png" />
    <meta
      property="og:url"
      content="https://crypticsy.github.io/sanctuary.github.io/"
    />

    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="HandheldFriendly" content="true" />

    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style type="text/css">
      @font-face {
        font-family: comfortaa_l;
        src: url(../assets/font/comfortaa_light.ttf);
      }
      @font-face {
        font-family: comfortaa_b;
        src: url(../assets/font/comfortaa_bold.ttf);
      }
      @font-face {
        font-family: retro_text;
        src: url(../assets/font/retro_computer.ttf);
      }

      /* Fix for mobile viewport height (accounting for browser UI) */
      :root {
        --vh: 1vh;
      }
    </style>
    <script>
      // Calculate and set actual viewport height for mobile browsers
      function setVH() {
        const vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty("--vh", `${vh}px`);
      }
      setVH();
      window.addEventListener("resize", setVH);
      window.addEventListener("orientationchange", setVH);
    </script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              "comfortaa-light": ["comfortaa_l", "sans-serif"],
              "comfortaa-bold": ["comfortaa_b", "sans-serif"],
              retro: ["retro_text", "monospace"],
            },
          },
        },
      };
    </script>

    <!--importing external javascript-->
    <script
      language="javascript"
      type="text/javascript"
      src="../assets/libraries/p5.min.js"
    ></script>
    <script
      language="javascript"
      type="text/javascript"
      src="boids.js"
    ></script>
    <script language="javascript" type="text/javascript" src="Boid.js"></script>
    <script
      language="javascript"
      type="text/javascript"
      src="Predator.js"
    ></script>
  </head>

  <body
    class="m-0 bg-[#212121] flex flex-col md:flex-row overflow-hidden text-[#a7a7a7] font-retro text-sm select-none"
  >
    <div
      class="w-full md:w-1/2 h-auto md:max-h-screen md:h-screen p-6 sm:p-8 md:p-10 overflow-y-auto"
      style="max-height: calc(var(--vh, 1vh) * 50)"
    >
      <style>
        @media (min-width: 768px) {
          .md\:max-h-screen {
            max-height: 100vh !important;
          }
        }
      </style>

      <a
        href="../index.html"
        class="inline-block px-4 sm:px-5 py-2.5 mb-6 sm:mb-8 bg-[#2a2a2a] text-[#03dc03] no-underline font-comfortaa-bold text-xs sm:text-sm rounded transition-all duration-300 hover:bg-[#03dc03] hover:text-[#212121]"
      >
        ‚Üê Back to Home
      </a>

      <div class="pb-6 sm:pb-8">
        <h1
          class="font-comfortaa-bold text-lg sm:text-xl md:text-2xl leading-tight text-white mb-5 sm:mb-6"
        >
          Boids Simulation
        </h1>

        <p
          class="text-[#a7a7a7] text-justify font-comfortaa-light text-[0.7rem] sm:text-xs md:text-sm mb-5 leading-loose"
        >
          Boids is an artificial life program, developed by Craig Reynolds in
          1986, which simulates the flocking behaviour of birds. The name "boid"
          corresponds to a shortened version of "bird-oid object", which refers
          to a bird-like object.
        </p>

        <p
          class="text-[#a7a7a7] text-justify font-comfortaa-light text-[0.7rem] sm:text-xs md:text-sm mb-5 leading-loose"
        >
          Each boid follows three simple rules:
          <strong class="text-white">separation</strong> (avoid crowding
          neighbors), <strong class="text-white">alignment</strong> (steer
          towards average heading of neighbors), and
          <strong class="text-white">cohesion</strong> (steer towards average
          position of neighbors). These simple rules create complex, emergent
          flocking behavior
          <a
            href="https://www.red3d.com/cwr/boids/"
            target="_blank"
            class="text-xs text-[#acf0ed] no-underline hover:underline"
          >
            [Original Paper]</a
          >
          . This simulation also includes predators with different hunting
          strategies: <strong class="text-white">Hunter</strong> (fast and
          aggressive), <strong class="text-white">Stalker</strong> (slow but
          wide perception), <strong class="text-white">Ambusher</strong> (fast
          bursts, short range), and
          <strong class="text-white">Pack Hunter</strong> (coordinates with
          other pack hunters).
        </p>
      </div>

      <!-- Two-column slider layout -->
      <div class="grid grid-cols-2 gap-x-8 gap-y-6 mb-6">
        <!-- Separation Weight -->
        <div>
          <h6 class="text-xs sm:text-sm font-comfortaa-light m-0 mb-2">
            Separation Weight
          </h6>
          <input
            id="separation_slider"
            type="range"
            min="0"
            max="3"
            step="0.1"
            value="1.5"
            class="w-full h-2 bg-[#4f4f4f] rounded-lg appearance-none cursor-pointer accent-[#03dc03]"
          />
          <p class="text-[#a7a7a7] text-xs mt-2" id="separation_value">1.5</p>
        </div>

        <!-- Alignment Weight -->
        <div>
          <h6 class="text-xs sm:text-sm font-comfortaa-light m-0 mb-2">
            Alignment Weight
          </h6>
          <input
            id="alignment_slider"
            type="range"
            min="0"
            max="3"
            step="0.1"
            value="1.0"
            class="w-full h-2 bg-[#4f4f4f] rounded-lg appearance-none cursor-pointer accent-[#03dc03]"
          />
          <p class="text-[#a7a7a7] text-xs mt-2" id="alignment_value">1.0</p>
        </div>

        <!-- Cohesion Weight -->
        <div>
          <h6 class="text-xs sm:text-sm font-comfortaa-light m-0 mb-2">
            Cohesion Weight
          </h6>
          <input
            id="cohesion_slider"
            type="range"
            min="0"
            max="3"
            step="0.1"
            value="1.0"
            class="w-full h-2 bg-[#4f4f4f] rounded-lg appearance-none cursor-pointer accent-[#03dc03]"
          />
          <p class="text-[#a7a7a7] text-xs mt-2" id="cohesion_value">1.0</p>
        </div>

        <!-- Perception Radius -->
        <div>
          <h6 class="text-xs sm:text-sm font-comfortaa-light m-0 mb-2">
            Perception Radius
          </h6>
          <input
            id="perception_slider"
            type="range"
            min="20"
            max="150"
            step="5"
            value="50"
            class="w-full h-2 bg-[#4f4f4f] rounded-lg appearance-none cursor-pointer accent-[#03dc03]"
          />
          <p class="text-[#a7a7a7] text-xs mt-2" id="perception_value">50</p>
        </div>

        <!-- Number of Predators -->
        <div>
          <h6 class="text-xs sm:text-sm font-comfortaa-light m-0 mb-2">
            Number of Predators
          </h6>
          <input
            id="predator_slider"
            type="range"
            min="0"
            max="5"
            step="1"
            value="3"
            class="w-full h-2 bg-[#4f4f4f] rounded-lg appearance-none cursor-pointer accent-[#dc0303]"
          />
          <p class="text-[#a7a7a7] text-xs mt-2" id="predator_value">3</p>
        </div>

        <!-- Predator Type -->
        <div>
          <h6 class="text-xs sm:text-sm font-comfortaa-light m-0 mb-2">
            Predator Type
          </h6>
          <input
            id="predator_type_slider"
            type="range"
            min="0"
            max="3"
            step="1"
            value="0"
            class="w-full h-2 bg-[#4f4f4f] rounded-lg appearance-none cursor-pointer accent-[#dc0303]"
          />
          <p class="text-[#a7a7a7] text-xs mt-2" id="predator_type_value">
            Hunter
          </p>
        </div>
      </div>

      <div class="flex flex-wrap gap-3">
        <button
          onclick="resetBoids()"
          class="rounded px-4 sm:px-5 py-2 sm:py-2.5 border-0 bg-[#03dc03] text-black text-xs sm:text-sm font-medium hover:bg-[#159b15] hover:text-white transition-colors focus:outline-none"
        >
          Reset
        </button>
      </div>
    </div>

    <!-- Canvas container for p5.js -->
    <div
      id="canvas-container"
      class="w-full md:w-1/2 md:h-screen overflow-auto flex items-center justify-center relative"
      style="min-height: calc(var(--vh, 1vh) * 50)"
    ></div>
  </body>
</html>
